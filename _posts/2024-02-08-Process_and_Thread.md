---
title: Process와 Thread
date: 2024-02-08 00:00:00 +0900
categories: [💻Computer Science, 👷‍♂️운영체제(OS)]
tags: [운영체제,
OS,
프로세스,
스레드,
Process,
Thread,
CPU,
]     
---  

## 공부 배경  
**'프로그램... 프로세스... 스레드...'**  
**'멀티 프로세스, 멀티 스레드 모두 멀티 태스킹과 관련된 것 같은데 맞는 걸까?**  
개발 공부를 하며 정말 많이 들어봤지만 정확한 개념이 정리되어있지 않은것 같았다. 이번기회에 개념을 확실하게 정리하고 공부해 보겠다.  

---  
## 프로그램(Program) 과 프로세스(Process)  
**<span style="color:red">프로그램: 코드가 구현되어 있는 파일, 코드 파일</span>**  
**<span style="color:blue">프로세스:</span>****<span style="color:red">프로그램</span>****<span style="color:blue">을 실행시켜 사용하는 것.</span>**  
  
## 프로그램이 프로세스가 되면서 어떤일이 일어날까?  
1. **프로세스가 필요로 하는 재료들이 메모리(Memory)에 올라간다**<br>
여기서 재료는 **`Code`,`Data`,`Heap`,`Stack`**이 해당된다.<br>
![image](https://github.com/han-tomas/han-tomas.github.io/assets/124488773/4c88d288-5dea-42b3-8b8f-f25f892121d1) 
2. **해당프로세스에 대한 정보를 담고 있는 PCB블럭이 프로세스 생성시 함께 만들어진다.**<br>
**PCB 블럭**<br>
![image](https://github.com/han-tomas/han-tomas.github.io/assets/124488773/0e1dcdcb-e800-4ca9-92e9-8f12af80c5d1)  
  
---  
## 프로세스(Process) 와 스레드(Thread)  
프로세스와 스레드의 차이를 알아보기에 앞서, **동시성**의 개념을 살펴보자.  
### 동시성
**동시성**이란? 한순간에 여러가지 일이 아니라, 짧은 전환으로 여러가지 일을 **동시에 처리하는****<span style="color:red">것 처 럼</span>** 보이는 것.  

평소의 우리를 예로 들어보자. 나는 컴퓨터 게임을 할 때를 예로 들어보겠다.  
나는 평소에 게임을 하기위에 컴퓨터를 켜면, **`Youtube`**에서 노래를 틀고, 축구 게임을 하기 위해 **`FC Online4`**를 켠다. 또, 친구들과 연락을 하기 위해서 **`카카오톡`**켜 놓는다.  
이처럼 우리는 하나의 **프로세스**를 사용하기 보다는 여러가지를 동시에 사용하고 싶어한다. 하지만, 우리는 **동시에 사용하고 있는 것이 아니다.**  
CPU는 한순간에 한가지 일만 처리하도록 설계되어있다. 즉 한 프로세스가 실행되면, 그 프로세스는 CPU를 점유하게 되어 다른 프로세스가 실행 될 수 없다.  
**그런데도 어떻게 우리는 동시에 사용한다고 느끼게 될까?**  
![image](https://github.com/han-tomas/han-tomas.github.io/assets/124488773/fffda557-ee5a-42c6-a8d1-83787b3d2ac0)  

우리가 여러개의 프로세스를 사용할 때, CPU에서는 하나의 프로세스가 실행상태에 있으면 다른 하나는 실행 준비상태로, 그 다른 하나가 실행상태에 올라오면 원래있던 다른 하나를 실행 준비상태로 스위칭 시키는데, 이를 **컨텍스트 스위칭(Context Switching)**이라고 한다. 이런 컨텍스트 스위칭이 시분할로 즉, **매우 짧은 텀을 반복하며 실행되기 때문에** 우리는 여러 프로그램을 동시에 사용하고 있다고 느끼게 되는 것이다. 그리고 이것이 바로 **동시성**이다.  

그렇다면 이제 **프로세스와 스레드에 차이**에 대해 알아보자  
  
### 프로세스 vs 스레드  

프로세스와 스레드는 한 애플리케이션에 대한 두가지 다른 **처리 방식**이다.  
![image](https://github.com/han-tomas/han-tomas.github.io/assets/124488773/ab44023a-92f1-4ca2-8e2d-4d540da0faaa)  

우선 **스레드**는 **경량화된 프로세스** 버전이다. 스레드는 **`Code`, `Data`, `Heap`** 영역을 공통된 자원으로 사용한다. 이는 **<span style="color:blue">Multi-Process</span>**와 **<span style="color:cyan">Multi-Thread</span>**의 차이로 이해하기 쉽다. 
  
#### Multi-Process vs Multi-Thread  
![image](https://github.com/han-tomas/han-tomas.github.io/assets/124488773/44bf53c2-ab0b-4639-8143-4f20fe59a266)  

|**Multi-Process**|**Multi-Thread**|  
|:---:|:---:|  
|별개의 메모리를 사용하기 때문에,<br>각 프로세스는 독립적이다.<br>동기화 작업이 필요없다.|**`Code`,`Data`,`Heap`**영역을<br> 공통된 자원으로 사용한다.<br>즉, 컨텍스트 스위칭이 일어날 때,<br> 캐싱 적중률이 올라간다<br>쉽게 말해 다 빼고 다 넣고가 아닌,<br> 일부만 넣고 뺀다.<br>공유 자원 관리가 필요하다.|  
|IPC를 사용한 통신|공유된 자원으로,<br>통신 비용이 절감된다.|  
|개별 메모리를 차지하기 때문에,<br>자원 소모적이다.|공유된 자원으로,<br>메모리 효율적이다.|   
|컨텍스트 스위칭 비용이 크다|컨텍스트 스위칭 비용이 적다.|  
  
프로세스가 다수의 스레드(Multi-Thread)로 구분되어 있지 않다면 👉 **단일 스레드 = '프로세스'**그 자체가 된다.  

---  
## Multi-Core  
**프로세스**와 **스레드**는 **처리 방식**의 일종이기 때문에 **소프트웨어** 분야*에 가깝고,  
멀티 코어는 **하드웨어** 측면에 가깝다.  
### Single - Core 👉 **동시성** : 짧은 전환으로 동시에 처리하는 것처럼 보이는 것.  
### Multi - Core 👉 **병렬 처리** : 여러 코어로 다수의 실행단위를 동시에 처리하는 것.     


